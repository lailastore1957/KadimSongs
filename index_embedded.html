<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>كل أغاني كاظم الساهر – حسب السنة</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {{
      --bg: #0f1115;
      --card: #161a22;
      --text: #f5f7fb;
      --muted: #9aa3b2;
      --accent: #d4b277; /* لمسة ذهبية خفيفة */
      --accent-2: #2d7df6;
      --radius: 14px;
    }}
    * {{ box-sizing: border-box; }}
    html, body {{ margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }}
    a {{ color: var(--accent-2); text-decoration: none; }}
    .wrap {{ max-width: 1100px; margin: 0 auto; padding: 24px; }}
    header.hero {{
      background: linear-gradient(180deg, rgba(212,178,119,0.12), transparent 60%);
      padding: 28px 0 10px;
    }}
    .title {{ font-size: clamp(24px, 3.4vw, 40px); margin: 0 0 6px; letter-spacing: .2px; }}
    .subtitle {{ margin: 0; color: var(--muted); font-size: 15px; }}
    .search-row {{ display: grid; grid-template-columns: 1fr auto; gap: 12px; margin-top: 18px; align-items: center; }}
    .input {{ background: var(--card); border: 1px solid #232a36; border-radius: var(--radius); padding: 14px 16px; color: var(--text); font-size: 16px; outline: none; }}
    .input::placeholder {{ color: #7c8597; }}
    .btn {{ border: 1px solid #2a3342; background: #1b2130; color: var(--text); padding: 12px 16px; border-radius: 10px; cursor: pointer; font-size: 15px; }}
    .btn:hover {{ background: #20283b; }}
    .chips {{ display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }}
    .chip {{ background: #19202c; border: 1px solid #263146; color: var(--text); padding: 8px 12px; border-radius: 999px; font-size: 14px; cursor: pointer; }}
    .chip.active {{ background: #24304a; border-color: #2f3d5a; }}
    .section {{ margin-top: 24px; }}
    .year-block {{ background: var(--card); border: 1px solid #232a36; border-radius: var(--radius); padding: 16px; margin-bottom: 16px; }}
    .year-head {{ display:flex; align-items:center; justify-content:space-between; gap:12px; }}
    .year-title {{ font-size: 20px; margin: 0; display:flex; align-items:center; gap:10px; }}
    .year-title .pill {{ font-size: 12px; color: var(--bg); background: var(--accent); padding: 4px 8px; border-radius: 999px; }}
    .songs {{ margin-top: 10px; display: grid; grid-template-columns: 1fr; gap: 8px; }}
    .song {{ display:flex; flex-direction: column; gap: 2px; padding: 12px; background: #121722; border: 1px solid #1f2634; border-radius: 10px; }}
    .song .name {{ font-weight: 600; }}
    .song .meta {{ color: var(--muted); font-size: 13px; }}
    .muted {{ color: var(--muted); }}
    .foot {{ color: var(--muted); font-size: 13px; margin-top: 24px; }}
    .toolbar {{ display:flex; gap:10px; flex-wrap: wrap; }}
    @media (min-width: 640px) {{ .songs {{ grid-template-columns: repeat(2, 1fr); }} }}
    @media (min-width: 960px) {{ .songs {{ grid-template-columns: repeat(3, 1fr); }} }}
  </style>
</head>
<body>
  <header class="hero">
    <div class="wrap">
      <h1 class="title">كل أغاني كاظم الساهر <span style="color:var(--accent)">حسب السنة</span></h1>
      <p class="subtitle">اكتب سنة الإصدار (مثلاً: 1998) أو اختر سنة من الأسفل — وستظهر لك كل الأغاني التي صدرت في تلك السنة.</p>
      <div class="search-row">
        <input id="yearInput" class="input" type="number" inputmode="numeric" placeholder="ابحث بالسنة… (1994 → 2025)" />
        <div class="toolbar">
          <button id="clearBtn" class="btn" title="مسح البحث">مسح</button>
          <button id="downloadBtn" class="btn" title="تنزيل قاعدة البيانات (JSON)">تنزيل البيانات</button>
        </div>
      </div>
      <div id="yearChips" class="chips" aria-label="سنوات متاحة"></div>
    </div>
  </header>

  <main class="wrap section">
    <div id="results"></div>
    <p id="emptyMsg" class="muted" style="display:none">لا توجد نتائج لهذه السنة حتى الآن.</p>
    <div class="foot">
      <span>نُسخة مبدئية للبيانات — سهلة الإضافة والتعديل عبر ملف <code>data/songs.json</code> داخل الموقع.</span>
    </div>
  </main>

  <script>
    const $ = (sel) => document.querySelector(sel);
    const resultsEl = $("#results");
    const yearInput = $("#yearInput");
    const yearChips = $("#yearChips");
    const emptyMsg = $("#emptyMsg");
    const clearBtn = $("#clearBtn");
    const downloadBtn = $("#downloadBtn");

    let allSongs = [];
    let years = [];

    function groupByYear(items) {{
      const map = new Map();
      items.forEach(s => {{
        const y = Number(s.year);
        if (!map.has(y)) map.set(y, []);
        map.get(y).push(s);
      }});
      // sort songs within year by title
      for (const arr of map.values()) arr.sort((a,b) => a.title.localeCompare(b.title, 'ar'));
      // return sorted array of [year, songs[]] descending by year
      return [...map.entries()].sort((a,b) => b[0] - a[0]);
    }}

    function renderChips(years) {{
      yearChips.innerHTML = "";
      years.slice(0, 42).forEach(y => {{
        const chip = document.createElement("button");
        chip.className = "chip";
        chip.textContent = y;
        chip.setAttribute("data-year", y);
        chip.addEventListener("click", () => {{
          yearInput.value = y;
          applyFilter();
          // focus results
          const block = document.getElementById("year-"+y);
          if (block) block.scrollIntoView({{ behavior: "smooth", block: "start" }});
        }});
        yearChips.appendChild(chip);
      }});
    }}

    function render(list) {{
      resultsEl.innerHTML = "";
      const groups = groupByYear(list);
      if (groups.length === 0) {{
        emptyMsg.style.display = "block";
        return;
      }}
      emptyMsg.style.display = "none";

      groups.forEach(([year, songs]) => {{
        const wrap = document.createElement("section");
        wrap.className = "year-block";
        wrap.id = "year-"+year;

        const head = document.createElement("div");
        head.className = "year-head";
        head.innerHTML = `<h2 class="year-title"><span class="pill">{{year}}</span> أغاني {{year}}</h2>`;
        wrap.appendChild(head);

        const listEl = document.createElement("div");
        listEl.className = "songs";

        songs.forEach(s => {{
          const card = document.createElement("div");
          card.className = "song";
          card.innerHTML = `<div class="name">${{s.title}}</div>
                            <div class="meta">${{s.album ? ("الألبوم: " + s.album) : ""}}</div>`;
          listEl.appendChild(card);
        }});

        wrap.appendChild(listEl);
        resultsEl.appendChild(wrap);
      }});
    }}

    function applyFilter() {{
      const q = yearInput.value.trim();
      yearChips.querySelectorAll(".chip").forEach(c => c.classList.remove("active"));

      if (!q) {{
        render(allSongs);
        return;
      }}
      const y = Number(q);
      if (isNaN(y)) {{
        render([]);
        return;
      }}
      const filtered = allSongs.filter(s => Number(s.year) === y);
      // mark chip
      const chip = yearChips.querySelector(`[data-year="${{y}}"]`);
      if (chip) chip.classList.add("active");
      render(filtered);
      if (filtered.length) {{
        const block = document.getElementById("year-"+y);
        if (block) block.scrollIntoView({{ behavior: "smooth", block: "start" }});
      }}
    }}

    function initFromParam() {{
      const params = new URLSearchParams(location.search);
      const y = params.get("year");
      if (y) {{
        yearInput.value = y;
        applyFilter();
      }}
    }}

    
async function init() {
      // بيانات مضمنة داخل الصفحة لتفادي مشاكل المسارات/التخزين المؤقت
      allSongs = [{"title": "اختاري", "year": 1994, "album": "سلامتك من الآه"}, {"title": "نزلت البحر", "year": 1994, "album": "سلامتك من الآه"}, {"title": "سلامتك من الآه", "year": 1994, "album": "سلامتك من الآه"}, {"title": "منين أجيب إحساس", "year": 1994, "album": "سلامتك من الآه"}, {"title": "موال يا الحبيب", "year": 1994, "album": "سلامتك من الآه"}, {"title": "يضرب الحب", "year": 1994, "album": "سلامتك من الآه"}, {"title": "موال لأبوك", "year": 1994, "album": "سلامتك من الآه"}, {"title": "يا ساكنة", "year": 1994, "album": "سلامتك من الآه"}, {"title": "ياليل", "year": 1994, "album": "سلامتك من الآه"}, {"title": "ها حبيبي", "year": 1995, "album": "بعد الحب"}, {"title": "ضمني على صدرك", "year": 1995, "album": "بعد الحب"}, {"title": "يا هلا بهالطول", "year": 1995, "album": "بعد الحب"}, {"title": "ميرسي", "year": 1995, "album": "بعد الحب"}, {"title": "كلك على بعضك حلو", "year": 1995, "album": "بعد الحب"}, {"title": "مين قساك", "year": 1995, "album": "بعد الحب"}, {"title": "بعد الحب", "year": 1995, "album": "بعد الحب"}, {"title": "ونين", "year": 1996, "album": "اغسلي بالبرد"}, {"title": "إغسلي بالبرد", "year": 1996, "album": "اغسلي بالبرد"}, {"title": "بيت العنا", "year": 1996, "album": "اغسلي بالبرد"}, {"title": "ونيت يا عودي", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "بقايا إنسان", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "صعبة عليه", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "أخطاء اختيارك", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "دقت الساعة للسفر (صوت القطار)", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "العب على أعصابي", "year": 1996, "album": "صعبة علي أودعك"}, {"title": "مدرسة الحب", "year": 1997, "album": "في مدرسة الحب"}, {"title": "باب الجار", "year": 1997, "album": "في مدرسة الحب"}, {"title": "الجميلة", "year": 1997, "album": "في مدرسة الحب"}, {"title": "الرحيل", "year": 1997, "album": "في مدرسة الحب"}, {"title": "يا مدلل", "year": 1997, "album": "في مدرسة الحب"}, {"title": "سلامي", "year": 1997, "album": "في مدرسة الحب"}, {"title": "إلك وحشة", "year": 1997, "album": "في مدرسة الحب"}, {"title": "زيديني عشقًا", "year": 1997, "album": "في مدرسة الحب"}, {"title": "وين آخذك", "year": 1997, "album": "في مدرسة الحب"}, {"title": "إلا أنتِ", "year": 1998, "album": "أنا وليلى"}, {"title": "آه على آه / موال أقول الآه", "year": 1998, "album": "أنا وليلى"}, {"title": "أشكيك لمين", "year": 1998, "album": "أنا وليلى"}, {"title": "أبات مهموم؟", "year": 1998, "album": "أنا وليلى"}, {"title": "أنا وليلى", "year": 1998, "album": "أنا وليلى"}, {"title": "لعب بيهم لعب", "year": 1998, "album": "أنا وليلى"}, {"title": "بالهداوة", "year": 1998, "album": "أنا وليلى"}, {"title": "التحديات", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "حبيبتي والمطر", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "مشتاق", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "هي", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "أكرهها", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "قولي أحبك", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "ممنوعة أنتِ", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "تعبت", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "لست فاتنتي", "year": 1999, "album": "حبيبتي والمطر"}, {"title": "أغازلك", "year": 2000, "album": "الحب المستحيل"}, {"title": "المستبدة", "year": 2000, "album": "الحب المستحيل"}, {"title": "لا تتنهد", "year": 2000, "album": "الحب المستحيل"}, {"title": "الحب المستحيل", "year": 2000, "album": "الحب المستحيل"}, {"title": "وعندك عين", "year": 2000, "album": "الحب المستحيل"}, {"title": "من تكون", "year": 2000, "album": "الحب المستحيل"}, {"title": "رخصت دمعي", "year": 2000, "album": "الحب المستحيل"}, {"title": "مقدرش", "year": 2000, "album": "الحب المستحيل"}, {"title": "والدي الطيب", "year": 2000, "album": "الحب المستحيل"}, {"title": "مستقيل", "year": 2000, "album": "الحب المستحيل"}, {"title": "الليلة إحساسي غريب", "year": 2001, "album": "ابحث عنك"}, {"title": "كل عام وأنتِ حبيبتي", "year": 2001, "album": "ابحث عنك"}, {"title": "سألتها", "year": 2001, "album": "ابحث عنك"}, {"title": "ابحث عنك", "year": 2001, "album": "ابحث عنك"}, {"title": "مو ضحكتك", "year": 2001, "album": "ابحث عنك"}, {"title": "شكراً", "year": 2001, "album": "ابحث عنك"}, {"title": "اللي يريد الحلو", "year": 2001, "album": "ابحث عنك"}, {"title": "أي زمن", "year": 2001, "album": "ابحث عنك"}, {"title": "الزمن", "year": 2001, "album": "ابحث عنك"}, {"title": "مالَ واحتجب", "year": 2001, "album": "ابحث عنك"}, {"title": "يا ناس", "year": 2002, "album": "قصة حبيبين"}, {"title": "هانت عليك", "year": 2002, "album": "قصة حبيبين"}, {"title": "ضلي زيدي", "year": 2002, "album": "قصة حبيبين"}, {"title": "دلع", "year": 2002, "album": "قصة حبيبين"}, {"title": "كل مرّ", "year": 2002, "album": "قصة حبيبين"}, {"title": "لو أننا", "year": 2002, "album": "قصة حبيبين"}, {"title": "كان صديقي", "year": 2002, "album": "قصة حبيبين"}, {"title": "يدك", "year": 2002, "album": "قصة حبيبين"}, {"title": "عيد وحب", "year": 2002, "album": "قصة حبيبين"}, {"title": "مو حرام", "year": 2002, "album": "قصة حبيبين"}, {"title": "تقولين عني", "year": 2002, "album": "قصة حبيبين"}, {"title": "للاه", "year": 2002, "album": "قصة حبيبين"}, {"title": "كل ما تكبر تحلى", "year": 2003, "album": "حافية القدمين"}, {"title": "صباحك سكر", "year": 2003, "album": "حافية القدمين"}, {"title": "الحلوة", "year": 2003, "album": "حافية القدمين"}, {"title": "حافية القدمين", "year": 2003, "album": "حافية القدمين"}, {"title": "درب الألم", "year": 2003, "album": "حافية القدمين"}, {"title": "موال: أبوس روحك", "year": 2003, "album": "حافية القدمين"}, {"title": "العزيزين", "year": 2003, "album": "حافية القدمين"}, {"title": "تقولين الهوى", "year": 2003, "album": "حافية القدمين"}, {"title": "منين أنت", "year": 2003, "album": "حافية القدمين"}, {"title": "منّو أنت", "year": 2003, "album": "حافية القدمين"}, {"title": "حوار مع النفس", "year": 2003, "album": "حافية القدمين"}, {"title": "The War Is Over (with Sarah Brightman)", "year": 2003, "album": "حافية القدمين"}, {"title": "أحبيني بلا عقد", "year": 2004, "album": "إلى تلميذة"}, {"title": "فرشت رمل البحر", "year": 2004, "album": "إلى تلميذة"}, {"title": "موال غرفة المكياج", "year": 2004, "album": "إلى تلميذة"}, {"title": "إلى تلميذة", "year": 2004, "album": "إلى تلميذة"}, {"title": "أشكو أيامًا", "year": 2004, "album": "إلى تلميذة"}, {"title": "إش صار إش دعوى", "year": 2004, "album": "إلى تلميذة"}, {"title": "والله دنيا", "year": 2004, "album": "إلى تلميذة"}, {"title": "سيدة عمري", "year": 2004, "album": "إلى تلميذة"}, {"title": "كبّري عقلك", "year": 2004, "album": "إلى تلميذة"}, {"title": "صايغين الذهب", "year": 2004, "album": "إلى تلميذة"}, {"title": "امشي بهداوة", "year": 2004, "album": "إلى تلميذة"}, {"title": "ماي ورد", "year": 2004, "album": "إلى تلميذة"}, {"title": "إيه يعني", "year": 2004, "album": "إلى تلميذة"}, {"title": "البنية", "year": 2005, "album": "انتهى المشوار"}, {"title": "الأولى بحياتي", "year": 2005, "album": "انتهى المشوار"}, {"title": "جيتك أمشي", "year": 2005, "album": "انتهى المشوار"}, {"title": "ارجع حبيبي", "year": 2005, "album": "انتهى المشوار"}, {"title": "هارب", "year": 2005, "album": "انتهى المشوار"}, {"title": "انتهى المشوار", "year": 2005, "album": "انتهى المشوار"}, {"title": "صغير وملعب", "year": 2005, "album": "انتهى المشوار"}, {"title": "ماشي بشارع", "year": 2005, "album": "انتهى المشوار"}, {"title": "لك أيامي", "year": 2005, "album": "انتهى المشوار"}, {"title": "تتبغدد علينا", "year": 2005, "album": "انتهى المشوار"}, {"title": "وإني أحبكِ", "year": 2005, "album": "انتهى المشوار"}, {"title": "يوميات رجل مهزوم", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "تحكي جد", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "أراضي خدودها", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "أتحبني بعد الذي كان", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "غالي", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "حب", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "بريد بيروت", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "تقول انسى", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "مدينة الحب", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "اضحك", "year": 2007, "album": "يوميات رجل مهزوم"}, {"title": "مو طبيعي", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "المحكمة (مع أسماء لمنور)", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "حبيبتي", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "الرسم بالكلمات", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "الجريدة", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "نمت وحلمت", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "اسكت", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "ستمية بوسة", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "وين الباب", "year": 2009, "album": "الرسم بالكلمات"}, {"title": "مرت على بالي", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "يا سيدي المحترم", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "اثاري الزعل", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "السور", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "الحب", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "لا تزيديه لوعة", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "جالسة لوحدك", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "حيارى يا زمن", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "خلاص اليوم", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "ما أحبك بعد", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "يا أبو العيون السود", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "ماذا بعد", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "دلع النساء", "year": 2011, "album": "لا تزيديه لوعة"}, {"title": "من كتاب الحب", "year": 2016, "album": "كتاب الحب"}, {"title": "رسالة حب صغيرة", "year": 2016, "album": "كتاب الحب"}, {"title": "كوني امرأة خطِرة", "year": 2016, "album": "كتاب الحب"}, {"title": "عيد العشاق", "year": 2016, "album": "كتاب الحب"}, {"title": "شؤون صغيرة", "year": 2016, "album": "كتاب الحب"}, {"title": "قصة خلافاتنا", "year": 2016, "album": "كتاب الحب"}, {"title": "لو لم تكوني أنتِ في حياتي", "year": 2016, "album": "كتاب الحب"}, {"title": "زر مرة", "year": 2016, "album": "كتاب الحب"}, {"title": "تناقضات", "year": 2016, "album": "كتاب الحب"}, {"title": "لجسمكِ عطر خطير النوايا", "year": 2016, "album": "كتاب الحب"}, {"title": "فاكهة الحب", "year": 2016, "album": "كتاب الحب"}, {"title": "يا وفية", "year": 2024, "album": "مع الحب"}, {"title": "يا قلب", "year": 2024, "album": "مع الحب"}, {"title": "Piano", "year": 2024, "album": "مع الحب"}, {"title": "معكِ", "year": 2024, "album": "مع الحب"}, {"title": "تاريخ ميلادي", "year": 2024, "album": "مع الحب"}, {"title": "رقصة عمر", "year": 2024, "album": "مع الحب"}, {"title": "لا تظلميه", "year": 2024, "album": "مع الحب"}, {"title": "تراني أحبكِ", "year": 2024, "album": "مع الحب"}, {"title": "أعود", "year": 2024, "album": "مع الحب"}, {"title": "الليل", "year": 2024, "album": "مع الحب"}, {"title": "مرارتي بصدري", "year": 2024, "album": "مع الحب"}, {"title": "لا تسالي", "year": 2024, "album": "مع الحب"}, {"title": "لا ترحلوا", "year": 2024, "album": "مع الحب"}];
      years = [...new Set(allSongs.map(s => Number(s.year)))].sort((a,b)=>b-a);
      renderChips(years);
      render(allSongs);
      initFromParam();
    }
{
      const res = await fetch("data/songs.json");
      allSongs = await res.json();
      // collect years (desc), unique
      years = [...new Set(allSongs.map(s => Number(s.year)))].sort((a,b)=>b-a);
      renderChips(years);
      render(allSongs);
      initFromParam();
    }}

    clearBtn.addEventListener("click", () => {{ yearInput.value = ""; applyFilter(); }});
    downloadBtn.addEventListener("click", () => {{
      const blob = new Blob([JSON.stringify(allSongs, null, 2)], {{type: "application/json"}});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "songs.json";
      a.click();
      URL.revokeObjectURL(url);
    }});

    yearInput.addEventListener("input", () => {{ applyFilter(); }});
    init();
  </script>
</body>
</html>
